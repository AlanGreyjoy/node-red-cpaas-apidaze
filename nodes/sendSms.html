<script type="text/javascript">
  RED.nodes.registerType('send-sms', {
    category: 'Apidaze',
    color: '#E2D96E',

    defaults: {
      apidazeConfig: { type: 'apidaze-config', required: true },
      to: {
        value: '',
        required: true,
        validate: RED.validators.regex(/^\d{10}$/)
      },
      from: {
        value: '',
        required: true,
        validate: RED.validators.regex(/^\d{10}$/)
      },
      message: { value: '', required: true }
    },

    inputs: 1,
    outputs: 1,
    icon: 'apidaze_icon.png',

    label: function () {
      return this.to ? `Sending SMS to ${this.to}` : 'Send SMS'
    },

    paletteLabel: 'Send SMS'
  })
</script>

<script
  type="text/html"
  data-template-name="send-sms"
>
  <div class="form-row">
    <label for="node-input-apidazeConfig"
      ><i class="fa fa-cog"></i> Configuration</label
    >
    <input
      type="node-config"
      id="node-input-apidazeConfig"
    />
  </div>

  <div class="form-row">
    <label for="node-input-to"><i class="fa fa-book"></i> To</label>
    <input
      type="text"
      id="node-input-to"
    />
  </div>

  <div class="form-row">
    <label for="node-input-from"><i class="fa fa-bookmark"></i> From</label>
    <input
      type="text"
      id="node-input-from"
    />
  </div>

  <div class="form-row">
    <label for="node-input-message"><i class="fa fa-book"></i> Message</label>
    <input
      type="text"
      id="node-input-message"
    />
  </div>
</script>
